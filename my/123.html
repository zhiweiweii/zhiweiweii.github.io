<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
        }
        
    
    </style>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.js"></script>
    
    <script src="canvas2image.js"></script>

   
</head>
<script type="text/javascript">


function takeScreenshot() {
var cntElem = $('#view')[0];

    var shareContent = cntElem;//需要截图的包裹的（原生的）DOM 对象
    var width = shareContent.offsetWidth; //获取dom 宽度
    var height = shareContent.offsetHeight; //获取dom 高度
    var canvas = document.createElement("canvas"); //创建一个canvas节点
    var scale = 4; //定义任意放大倍数 支持小数
    canvas.width = width * scale; //定义canvas 宽度 * 缩放
    canvas.height = height * scale; //定义canvas高度 *缩放
    canvas.getContext("2d").scale(scale, scale); //获取context,设置scale 
    var opts = {
        scale: scale, // 添加的scale 参数
        canvas: canvas, //自定义 canvas
        // logging: true, //日志开关，便于查看html2canvas的内部执行流程
        width: width, //dom 原始宽度
        height: height,
        useCORS: true // 【重要】开启跨域配置
    };

    html2canvas(shareContent, opts).then(function (canvas) {

        var context = canvas.getContext('2d');
        // 【重要】关闭抗锯齿

        context.imageSmoothingEnabled = false;
        
        // 【重要】默认转化的格式为png,也可设置为其他格式
        var img = Canvas2Image.convertToJPEG(canvas, canvas.width, canvas.height);

        $('#box')[0].appendChild(img);

        $(img).css({
            "width": canvas.width / 4 + "px",
            "height": canvas.height / 4 + "px",
        });

    });
}
</script>
<body>
    <div id="view"  style="position:relative; width: 700px; height: 500px;">
        <img src="code.jpg" style="position:absolute;bottom:30px;right:30px;width: 60px;height: 60px;" />
        <img src="123.jpg"  style=" position: absolute;z-index: -1; width: 700px; height: 500px;" />
        <div  style=" width: 700px; height: 300px;">asssssssss水电费水电费水电费第三方是的发生的dsfsd狂欢节客户即可空间很健康黄金客户见客户看见sssssssssssskj但是开发计划的会计法会计师电话费会计师电话客服和速度快解放合适的空间划分会计师电话费打开手机好 </div>
        <div style=" width: 700px;text-align: center;height:30px;font-size:25px;color:red;font-weight: bold;">我是红色字。啦~~~</div>
        

    </div>
    <input type="button" style="position:absolute;left: 20px;top: 200px;" value="截图" onclick="takeScreenshot()">
    <div id="box" style="position: absolute;top:0;left: 800px;overflow: hidden; width: 700px;height: 500px;"></div>
</body>
</html>
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>ceshi </title>
  </head>
  <body>
    <div id="app">

    </div>
    <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
    <script>
        alert(returnCitySN.cid)
    </script>
    <!-- built files will be auto injected -->
  </body>
</html>
